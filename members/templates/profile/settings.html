<section id="settings" class="profile-settings mt-4">
    <div class="card profile-settings__intro">
        <div class="card-body">
            <h2 class="h4 mb-2">Налаштування</h2>
            <p class="mb-0 text-muted">Керуйте своїм досвідом у Lixy: оберіть, які сповіщення отримувати, як ми показуємо ваш профіль та перегляньте основні правила спільноти.</p>
        </div>
    </div>

    <div class="profile-settings__grid">
        <article id="notifications" class="card profile-settings__card">
            <div class="card-body">
                <div class="profile-settings__card-header">
                    <i class="bi bi-bell-fill" aria-hidden="true"></i>
                    <h3 class="h5 mb-0">Сповіщення</h3>
                </div>
                <p class="text-muted small">Отримуйте лише потрібні вам оновлення, щоб залишатися на зв’язку з людьми, які вам цікаві.</p>
                <div class="profile-settings__options" role="group" aria-labelledby="notifications">
                    {% for option in settings_context.notification_options %}
                        <div class="form-check form-switch">
                            <input
                                class="form-check-input"
                                type="checkbox"
                                id="{{ option.id }}"
                                {% if option.checked %}checked{% endif %}
                            >
                            <label class="form-check-label" for="{{ option.id }}">{{ option.label }}</label>
                        </div>
                    {% endfor %}
                </div>
                <div class="profile-settings__cta">
                    <a class="btn btn-outline-primary btn-sm" href="{% url 'profile_settings_notifications' member.username %}">Керувати сповіщеннями</a>
                </div>
            </div>
        </article>

        <article id="privacy" class="card profile-settings__card">
            <div class="card-body">
                <div class="profile-settings__card-header">
                    <i class="bi bi-shield-lock-fill" aria-hidden="true"></i>
                    <h3 class="h5 mb-0">Конфіденційність</h3>
                </div>
                <p class="text-muted small">Обирайте, хто може бачити ваш профіль та які дані ви відкриваєте для інших.</p>
                <div class="profile-settings__options" role="group" aria-labelledby="privacy">
                    {% for option in settings_context.privacy_options %}
                        <div class="form-check form-switch">
                            <input
                                class="form-check-input"
                                type="checkbox"
                                id="{{ option.id }}"
                                {% if option.checked %}checked{% endif %}
                            >
                            <label class="form-check-label" for="{{ option.id }}">{{ option.label }}</label>
                        </div>
                    {% endfor %}
                </div>
                <div class="profile-settings__cta">
                    <a class="btn btn-outline-primary btn-sm" href="{% url 'profile_settings_privacy' member.username %}">Керувати конфіденційністю</a>
                </div>
            </div>
        </article>

        <article id="rules" class="card profile-settings__card">
            <div class="card-body">
                <div class="profile-settings__card-header">
                    <i class="bi bi-journal-check" aria-hidden="true"></i>
                    <h3 class="h5 mb-0">Правила</h3>
                </div>
                <p class="text-muted small">Пам’ятайте про комфорт і безпеку всіх користувачів — це допомагає будувати здорову спільноту.</p>
                <ul class="profile-settings__list">
                    {% for rule in settings_context.community_rules %}
                        <li>{{ rule }}</li>
                    {% endfor %}
                </ul>
                <div class="profile-settings__cta">
                    <a class="btn btn-outline-primary btn-sm" href="{% url 'profile_settings_rules' member.username %}">Дізнатися більше</a>
                </div>
            </div>
        </article>

        <article id="subscriptions" class="card profile-settings__card">
            <div class="card-body">
                <div class="profile-settings__card-header">
                    <i class="bi bi-repeat" aria-hidden="true"></i>
                    <h3 class="h5 mb-0">Налаштування підписок</h3>
                </div>
                <p class="text-muted small">Оберіть оптимальний план, щоб бачити більше профілів та отримувати ексклюзивні можливості.</p>
                <div class="profile-settings__options">
                    {% for plan in settings_context.subscription_plans %}
                        <div>
                            <h4 class="h6 mb-1">{{ plan.name }}</h4>
                            <p class="mb-2 small text-muted">{{ plan.description }}</p>
                        </div>
                    {% endfor %}
                </div>
                <div class="d-flex justify-content-between align-items-center profile-settings__cta">
                    <span class="fw-semibold">Поточний план: {{ settings_context.current_plan }}</span>
                    <a href="{% url 'profile_settings_subscriptions' member.username %}" class="btn btn-primary btn-sm">Оновити план</a>
                </div>
            </div>
        </article>
    </div>
</section>
